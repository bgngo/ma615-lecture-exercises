---
title: "MA615 Lecture 2"
author: "Gia Bao (Belinda) Ngo"
output: github_document
---

# Setting up R

```{r}
# install.packages("tidyverse") # it may take a while!
library(tidyverse)
```

# Checking the data

Dataset mpg1: fuel economy data

```{r}
mpg

# to see a description, either
help(mpg)
?mpg
```

# Exploring the data

Question of *interest*: relationship between displ (engine displacement in litres) and hwy (highway mileage)

```{r}
ggplot(data = mpg, mapping = aes(x = displ, y = hwy)) + geom_point()
```


Mileage seems to *decrease* with engine size; what is the effect of cyl (number of cylinders)?

```{r}
ggplot(data = mpg, mapping = aes(x = displ, y = hwy)) +
  geom_point(aes(color = cyl))
```

cyl has only a few values so it's best seen as a factor (categorical)

```{r}
ggplot(data = mpg |> mutate(cyl = factor(cyl)),
       aes(x = displ, y = hwy)) + geom_point(aes(color = cyl))
```

# A bit of modeling

```{r}
ggplot(mpg |> mutate(cyl = factor(cyl)), aes(displ, hwy)) +
  geom_point(aes(color = cyl)) +
  geom_smooth()
```

Model fitting yields

```{r}
fit <- lm(log(hwy) ~ log(displ), data = mpg)
coef(fit)
```

``` {r}
ggplot(mpg |> mutate(cyl = factor(cyl)),
       aes(1 / sqrt(displ), hwy)) +
  geom_point(aes(color = cyl)) +
  geom_smooth()
```
